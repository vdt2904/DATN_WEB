@{
    ViewData["Title"] = "Login";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<!-- Normal Breadcrumb Begin -->
<section class="normal-breadcrumb set-bg" data-setbg="../Home/img/normal-breadcrumb.jpg" style="background-image: url('../Home/img/normal-breadcrumb.jpg'); max-width: 1350px; max-height: 300px;">
    <div class="container">
        <div class="row">
            <div class="col-lg-12 text-center">
                <div class="normal__breadcrumb__text">
                    <h2>Login</h2>
                    <p>Welcome to the official Anime blog.</p>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- Normal Breadcrumb End -->
<!-- Login Section Begin -->
<section class="login spad">
    <div class="container">
        <div class="row">
            <div class="col-lg-6">
                <div class="login__form">
                    <h3>Login</h3>
                    <div id="error_login">

                    </div>
                    
                    <form>
                        <div class="input__item">
                            <input type="text" placeholder="Email" id="username">
                            <span class="icon_mail"></span>
                        </div>
                        <div class="input__item">
                            <input type="password" placeholder="Password" id="password">
                            <span class="icon_lock"></span>
                        </div>
                        <button type="button" class="site-btn" onclick="loginUser();">Login Now</button>
                    </form>
                    <a data-toggle="modal" data-target="#passModalCenter" style="cursor:pointer;" class="forget_pass">Forgot Your Password?</a>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="login__register">
                    <h3>Dont’t Have An Account?</h3>
                    <a asp-action="Register" asp-controller="home" class="primary-btn">Register Now</a>
                </div>
            </div>
        </div>
        <div class="login__social">
            <div class="row d-flex justify-content-center">
                <div class="col-lg-6">
                    <div class="login__social__links">
                        <span>or</span>
                        <ul>
                            <li>
                                <a href="#" onclick="loginWithFace()" class="facebook">
                                    <i class="fa fa-facebook"></i> Sign in With Facebook
                                </a>
                            </li>
                            <li>
                                <a href="#" onclick="loginWithGoogle()" class="google">
                                    <i class="fa fa-google"></i> Sign in With Google
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- Login Section End -->
<div class="modal fade" id="passModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLongTitle">Thay đổi mật khẩu</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div id="step1">
                    <span class="modal-title">Bước 1: Nhập email</span>
                    <input id="email" type="text" placeholder="Nhập Email" class="form-control">
                </div>
                <div id="step2" style="display: none;">
                    <span class="modal-title">Bước 2: Nhập OTP từ email</span>
                    <input id="otp" type="text" placeholder="Nhập OTP" class="form-control" oninput="validateOTP(this)">
                </div>
                <div id="step3" style="display: none;">
                    <span class="modal-title">Bước 3: Nhập mật khẩu mới</span>
                    <input id="newPassword" type="password" placeholder="Nhập mật khẩu mới" class="form-control">
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" onclick="prevStep()">Quay lại</button>
                <button type="button" class="btn btn-primary" onclick="nextStep()">Tiếp theo</button>
                <button type="button" class="btn btn-success" onclick="updatepass()">Lưu thay đổi</button>
            </div>
        </div>
    </div>
</div>
<script src="@Url.Content("~/pagesjs/login.js")"></script>
<script>updateModal();</script>